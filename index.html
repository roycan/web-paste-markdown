<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML to Markdown Converter</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Turndown for HTML to Markdown -->
    <script src="https://cdn.jsdelivr.net/npm/turndown@7.1.2/dist/turndown.min.js"></script>
    <!-- Turndown GFM Plugin (tables, strikethrough) -->
    <script src="https://cdn.jsdelivr.net/npm/turndown-plugin-gfm@1.0.2/dist/turndown-plugin-gfm.min.js"></script>
    <!-- Marked for Markdown to HTML -->
    <script src="https://cdn.jsdelivr.net/npm/marked@11.1.1/marked.min.js"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="min-h-screen bg-slate-50">
    <!-- Header -->
    <header class="bg-white border-b border-slate-200 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center space-x-3">
                    <div class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center">
                        <i data-lucide="file-text" class="text-white text-sm"></i>
                    </div>
                    <h1 id="app-title" class="text-xl font-semibold text-slate-900">Rich Text to Markdown</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <button 
                        id="toggle-mode-btn"
                        class="flex items-center space-x-2 px-3 py-2 text-sm font-medium text-slate-700 bg-slate-100 hover:bg-slate-200 rounded-lg transition-colors"
                    >
                        <i data-lucide="arrow-left-right" class="w-4 h-4"></i>
                        <span id="toggle-mode-text">Switch to MD→HTML</span>
                    </button>
                    <button 
                        id="help-btn"
                        class="flex items-center space-x-2 px-3 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-200 hover:bg-slate-50 rounded-lg transition-colors"
                    >
                        <i data-lucide="help-circle" class="w-4 h-4"></i>
                        <span>Help</span>
                    </button>
                    <button 
                        id="clear-btn"
                        class="flex items-center space-x-2 px-3 py-2 text-sm font-medium text-slate-700 bg-white border border-slate-200 hover:bg-slate-50 rounded-lg transition-colors"
                    >
                        <i data-lucide="trash-2" class="w-4 h-4"></i>
                        <span>Clear All</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- View Toggle -->
        <div class="mb-6 flex items-center justify-between">
            <div class="flex items-center space-x-4">
                <span class="text-sm font-medium text-slate-700">View:</span>
                <div class="flex items-center space-x-2 bg-slate-100 rounded-lg p-1">
                    <button
                        id="side-by-side-btn"
                        class="px-3 py-1 text-sm rounded-md transition-colors bg-slate-800 text-white"
                    >
                        <i data-lucide="columns" class="w-4 h-4 mr-1 inline"></i>
                        Side by Side
                    </button>
                    <button
                        id="stacked-btn"
                        class="px-3 py-1 text-sm rounded-md transition-colors text-slate-700 hover:bg-slate-200"
                    >
                        <i data-lucide="layers" class="w-4 h-4 mr-1 inline"></i>
                        Stacked
                    </button>
                </div>
            </div>
            <div class="flex items-center space-x-2">
                <div class="flex items-center space-x-2 text-sm text-slate-600">
                    <div class="w-2 h-2 bg-green-500 rounded-full"></div>
                    <span>Ready to convert</span>
                </div>
            </div>
        </div>

        <!-- HTML to Markdown Mode -->
        <div id="html-to-markdown-mode" class="conversion-mode">
            <div id="content-panels" class="grid gap-6 grid-cols-1 lg:grid-cols-2">
                <!-- Rich Text Editor -->
                <div class="bg-white rounded-lg border border-slate-200 shadow-sm">
                    <div class="border-b border-slate-200 px-4 py-3">
                        <div class="flex items-center justify-between">
                            <h2 class="text-lg font-medium text-slate-900">Rich Text Input</h2>
                            <div class="flex items-center space-x-2">
                                <button
                                    id="convert-btn"
                                    class="px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50"
                                >
                                    <i data-lucide="arrow-right" class="w-4 h-4 mr-2 inline"></i>
                                    Convert
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="p-4">
                        <div
                            id="rich-editor"
                            contenteditable="true"
                            class="min-h-96 p-4 border border-slate-200 rounded-lg bg-slate-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                            style="min-height: 24rem;"
                            placeholder="Paste your rich text content here..."
                        ></div>
                        <div class="mt-4 text-sm text-slate-500">
                            Paste rich content from web pages, Word documents, or any formatted source.
                        </div>
                    </div>
                </div>

                <!-- Markdown Output -->
                <div class="bg-white rounded-lg border border-slate-200 shadow-sm">
                    <div class="border-b border-slate-200 px-4 py-3">
                        <div class="flex items-center justify-between">
                            <h2 class="text-lg font-medium text-slate-900">Converted Output</h2>
                            <div class="flex items-center space-x-2">
                                <div class="flex items-center space-x-1 bg-slate-100 rounded-lg p-1">
                                    <button
                                        id="markdown-source-btn"
                                        class="px-2 py-1 text-xs rounded transition-colors bg-slate-800 text-white"
                                    >
                                        <i data-lucide="code" class="w-3 h-3 mr-1 inline"></i>
                                        Markdown
                                    </button>
                                    <button
                                        id="markdown-preview-btn"
                                        class="px-2 py-1 text-xs rounded transition-colors text-slate-700 hover:bg-slate-200"
                                    >
                                        <i data-lucide="eye" class="w-3 h-3 mr-1 inline"></i>
                                        Preview
                                    </button>
                                    <button
                                        id="html-source-btn"
                                        class="px-2 py-1 text-xs rounded transition-colors text-slate-700 hover:bg-slate-200"
                                    >
                                        <i data-lucide="file-code" class="w-3 h-3 mr-1 inline"></i>
                                        HTML
                                    </button>
                                </div>
                                <button
                                    id="copy-output-btn"
                                    class="px-2 py-1 text-xs bg-white border border-slate-200 hover:bg-slate-50 rounded transition-colors"
                                >
                                    <i data-lucide="copy" class="w-3 h-3 mr-1 inline"></i>
                                    Copy
                                </button>
                                <button
                                    id="download-output-btn"
                                    class="px-2 py-1 text-xs bg-white border border-slate-200 hover:bg-slate-50 rounded transition-colors"
                                >
                                    <i data-lucide="download" class="w-3 h-3 mr-1 inline"></i>
                                    Download
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="p-4">
                        <div class="min-h-96 p-4 border border-slate-200 rounded-lg bg-slate-50" style="min-height: 24rem;">
                            <div id="output-content" class="text-slate-500 italic text-center py-20">
                                Your converted content will appear here...
                            </div>
                        </div>
                        <div id="output-stats" class="mt-4 text-sm text-slate-500" style="display: none;">
                            0 words • 0 lines • 0 characters
                        </div>
                    </div>
                </div>
            </div>

            <!-- Conversion Settings -->
            <div class="mt-8 bg-white rounded-lg border border-slate-200 shadow-sm">
                <div class="border-b border-slate-200 px-4 py-3">
                    <h3 class="text-lg font-medium text-slate-900">Conversion Settings</h3>
                </div>
                <div class="p-4">
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <div class="space-y-4">
                            <div class="flex items-center space-x-2">
                                <input type="checkbox" id="preserve-links" checked class="w-4 h-4 text-blue-600 rounded">
                                <label for="preserve-links" class="text-sm font-medium text-slate-700">Preserve Links</label>
                            </div>
                            <div class="flex items-center space-x-2">
                                <input type="checkbox" id="convert-images" checked class="w-4 h-4 text-blue-600 rounded">
                                <label for="convert-images" class="text-sm font-medium text-slate-700">Convert Images</label>
                            </div>
                            <div class="flex items-center space-x-2">
                                <input type="checkbox" id="clean-html" class="w-4 h-4 text-blue-600 rounded">
                                <label for="clean-html" class="text-sm font-medium text-slate-700">Clean HTML</label>
                            </div>
                            <div class="flex items-center space-x-2">
                                <input type="checkbox" id="convert-tables" checked class="w-4 h-4 text-blue-600 rounded">
                                <label for="convert-tables" class="text-sm font-medium text-slate-700">Convert Tables (GFM)</label>
                            </div>
                        </div>
                        <div class="space-y-4">
                            <div>
                                <label for="heading-style" class="block text-sm font-medium text-slate-700 mb-1">Heading Style</label>
                                <select id="heading-style" class="w-full px-3 py-2 border border-slate-200 rounded-md text-sm">
                                    <option value="atx">ATX (# ## ###)</option>
                                    <option value="setext">Setext (--- ===)</option>
                                </select>
                            </div>
                            <div>
                                <label for="code-block-style" class="block text-sm font-medium text-slate-700 mb-1">Code Block Style</label>
                                <select id="code-block-style" class="w-full px-3 py-2 border border-slate-200 rounded-md text-sm">
                                    <option value="fenced">Fenced (```)</option>
                                    <option value="indented">Indented (4 spaces)</option>
                                </select>
                            </div>
                        </div>
                        <div class="space-y-4">
                            <div>
                                <label for="bullet-list-marker" class="block text-sm font-medium text-slate-700 mb-1">Bullet List Marker</label>
                                <select id="bullet-list-marker" class="w-full px-3 py-2 border border-slate-200 rounded-md text-sm">
                                    <option value="-">Dash (-)</option>
                                    <option value="*">Asterisk (*)</option>
                                    <option value="+">Plus (+)</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Markdown to HTML Mode -->
        <div id="markdown-to-html-mode" class="conversion-mode" style="display: none;">
            <div class="grid gap-6 grid-cols-1 lg:grid-cols-2">
                <!-- Markdown Input -->
                <div class="bg-white rounded-lg border border-slate-200 shadow-sm">
                    <div class="border-b border-slate-200 px-4 py-3">
                        <div class="flex items-center justify-between">
                            <h2 class="text-lg font-medium text-slate-900">Markdown Input</h2>
                            <div class="flex items-center space-x-2">
                                <div class="flex items-center space-x-1 bg-slate-100 rounded-lg p-1">
                                    <button
                                        id="md-input-btn"
                                        class="px-2 py-1 text-xs rounded transition-colors bg-slate-800 text-white"
                                    >
                                        <i data-lucide="file-code" class="w-3 h-3 mr-1 inline"></i>
                                        Input
                                    </button>
                                    <button
                                        id="md-preview-btn"
                                        class="px-2 py-1 text-xs rounded transition-colors text-slate-700 hover:bg-slate-200"
                                    >
                                        <i data-lucide="eye" class="w-3 h-3 mr-1 inline"></i>
                                        Preview
                                    </button>
                                </div>
                                <button
                                    id="paste-md-btn"
                                    class="px-2 py-1 text-xs bg-white border border-slate-200 hover:bg-slate-50 rounded transition-colors"
                                >
                                    Paste
                                </button>
                                <button
                                    id="clear-md-btn"
                                    class="px-2 py-1 text-xs bg-white border border-slate-200 hover:bg-slate-50 rounded transition-colors"
                                >
                                    <i data-lucide="trash-2" class="w-3 h-3"></i> Clear
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="p-4">
                        <div id="markdown-input-area">
                            <textarea
                                id="markdown-textarea"
                                class="w-full min-h-96 p-4 border border-slate-200 rounded-lg bg-slate-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm resize-none"
                                style="min-height: 24rem;"
                                placeholder="Paste or type your Markdown here..."
                            ></textarea>
                            <div class="mt-4 flex justify-between items-center">
                                <div id="markdown-stats" class="text-sm text-slate-500">
                                    0 characters, 0 lines
                                </div>
                                <button
                                    id="convert-md-btn"
                                    class="px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50"
                                >
                                    Convert to HTML
                                </button>
                            </div>
                        </div>
                        <div id="markdown-preview-area" style="display: none;">
                            <div class="min-h-96 p-4 border border-slate-200 rounded-lg bg-slate-50" style="min-height: 24rem;">
                                <div id="markdown-preview-content" class="prose prose-sm max-w-none text-slate-500 italic text-center py-20">
                                    Type some Markdown to see the preview...
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- HTML Output -->
                <div id="html-output-panel" class="bg-white rounded-lg border border-slate-200 shadow-sm" style="display: none;">
                    <div class="border-b border-slate-200 px-4 py-3">
                        <div class="flex items-center justify-between">
                            <h2 class="text-lg font-medium text-slate-900">HTML Output</h2>
                            <div class="flex items-center space-x-2">
                                <div class="flex items-center space-x-1 bg-slate-100 rounded-lg p-1">
                                    <button
                                        id="html-source-view-btn"
                                        class="px-2 py-1 text-xs rounded transition-colors bg-slate-800 text-white"
                                    >
                                        <i data-lucide="code" class="w-3 h-3 mr-1 inline"></i>
                                        HTML
                                    </button>
                                    <button
                                        id="html-preview-view-btn"
                                        class="px-2 py-1 text-xs rounded transition-colors text-slate-700 hover:bg-slate-200"
                                    >
                                        <i data-lucide="eye" class="w-3 h-3 mr-1 inline"></i>
                                        Preview
                                    </button>
                                </div>
                                <button
                                    id="copy-html-btn"
                                    class="px-2 py-1 text-xs bg-white border border-slate-200 hover:bg-slate-50 rounded transition-colors"
                                >
                                    <i data-lucide="copy" class="w-3 h-3 mr-1 inline"></i>
                                    Copy
                                </button>
                                <button
                                    id="download-html-btn"
                                    class="px-2 py-1 text-xs bg-white border border-slate-200 hover:bg-slate-50 rounded transition-colors"
                                >
                                    <i data-lucide="download" class="w-3 h-3 mr-1 inline"></i>
                                    Download
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="p-4">
                        <div class="min-h-96 p-4 border border-slate-200 rounded-lg bg-slate-50" style="min-height: 24rem;">
                            <div id="html-output-content" class="text-sm text-slate-700 font-mono whitespace-pre-wrap"></div>
                            <div id="html-preview-content" class="prose prose-sm max-w-none" style="display: none;"></div>
                        </div>
                        <div id="html-output-stats" class="mt-4 text-sm text-slate-500">
                            Generated from 0 lines of Markdown • 0 characters
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Toast notification -->
    <div id="toast" class="fixed bottom-4 right-4 bg-slate-800 text-white px-4 py-2 rounded-lg shadow-lg transform translate-y-full opacity-0 transition-all duration-300">
        <div id="toast-content"></div>
    </div>

    <script src="script.js"></script>
    <script>
        // Initialize Lucide icons
        window.addEventListener('load', function() {
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        });
    </script>
</body>
</html>